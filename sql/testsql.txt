--test main objects
INSERT INTO PETER_APP(APPID) VALUES ('MSR');
SELECT APPID FROM PETER_APP;
DELETE FROM PETER_APP WHERE APPID = 'MSR';
SELECT APPID FROM PETER_APP;

INSERT INTO PETER_USER(APPID,USERNAME) VALUES ('MSR','ARNIG/LSH.IS');
SELECT APPID,USERNAME FROM PETER_USER;
DELETE FROM PETER_USER WHERE APPID = 'MSR' AND USERNAME = 'ARNIG/LSH.IS';
SELECT APPID,USERNAME FROM PETER_USER;

INSERT INTO PETER_ROLE(APPID,ROLENAME) VALUES ('MSR','SYSADMIN');
SELECT APPID,ROLENAME FROM PETER_ROLE;
DELETE FROM PETER_ROLE WHERE APPID = 'MSR' AND ROLENAME = 'SYSADMIN';
SELECT APPID,ROLENAME FROM PETER_ROLE;

--TEST RELATIONS
DELETE FROM PETER_APP;
DELETE FROM PETER_ROLE;
DELETE FROM PETER_USER;
DELETE FROM PETER_USERROLE;

INSERT INTO PETER_APP(APPID) VALUES ('MSR');
SELECT * FROM PETER_APP;
INSERT INTO PETER_ROLE(APPID,ROLENAME) VALUES ('MSR','SYSADMIN');
INSERT INTO PETER_ROLE(APPID,ROLENAME) VALUES ('MSR','HR');
SELECT * FROM PETER_ROLE;


INSERT INTO PETER_USER(APPID,USERNAME) VALUES('MSR','AGS-ARNIGEIR/LSH.IS');
INSERT INTO PETER_USER(APPID,USERNAME) VALUES('MSR','SIGRUNJ/LSH.IS');
SELECT * FROM PETER_USER;


INSERT INTO PETER_USERROLE(ROLENAME,USERNAME) VALUES('SYSADMIN','AGS-ARNIGEIR/LSH.IS');
INSERT INTO PETER_USERROLE(ROLENAME,USERNAME)VALUES('HR','SIGRUNJ/LSH.IS');
select * from PETER_USERROLE
--get all app roles
SELECT ROLENAME FROM PETER_ROLE WHERE APPID='MSR'

SELECT U.APPID,UR.USERNAME,UR.ROLENAME 
FROM PETER_USERROLE UR,
     PETER_USER U
WHERE U.APPID = 'MSR' AND U.USERNAME = UR.USERNAME;

DELETE FROM PETER_APP;
DELETE FROM PETER_ROLE;
DELETE FROM PETER_USER;
DELETE FROM PETER_USERROLE;


